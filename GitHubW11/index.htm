<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset='utf-8'>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="stylesheet" href="/assets/css/style.css?v=">
    <link rel="stylesheet" type="text/css" href="/assets/css/print.css" media="print">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

<!-- Begin Jekyll SEO tag v2.8.0 --> 
<title>GitHub Desktop and Jekyll 2023</title>
<meta name="generator" content="Jekyll v3.9.3" />
<meta property="og:title" content="GitHub Desktop and Jekyll 2023" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Jekyll on Windows for GitHub Pages preview in 2023" />
<meta property="og:description" content="Jekyll on Windows for GitHub Pages preview in 2023" />
<link rel="canonical" href="https://blekenbleu.github.io//GitHubW11/" />
<meta property="og:url" content="https://blekenbleu.github.io//GitHubW11/" />
<meta property="og:site_name" content="blekenbleu.github.io" />
<meta property="og:type" content="website" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"Jekyll on Windows for GitHub Pages preview in 2023","headline":"GitHub Desktop and Jekyll 2023","url":"https://blekenbleu.github.io//GitHubW11/"}</script>
<!-- End Jekyll SEO tag -->
   
</head>
<body>
<div id="container">
<div class="inner">

<header>
<h2>GitHub Desktop and Jekyll 2023</h2>
</header>

<section id="main_content">

<font size=-1><a href="../"><i>back</i></a></font>
<a href="https://www.gixen.com/index.php" name="9e092736783d0da1dfd8413d57d10faf" target="_blank" >
<img align=right src="https://www.gixen.com/images/gixenlink.gif" border="0" alt="Auction Sniper" title="Auction Sniper">
</a>
<br>

<h2>Jekyll on Windows 11 for GitHub Pages preview</h2>
Differences in Jekyll experiences on different Windows versions<br>
 is mostly about Ruby and Jekyll evolution.<br>
Ruby installation has become more trouble-free, without hangs and need for retries.<br>
Meanwhile, Jekyll for Windows functionality
<a href="https://www.moncefbelyamani.com/making-github-pages-work-with-latest-jekyll/">seems to have regressed</a>:<br>
<li>&lt;details&gt; seemingly are no longer supported in markdown
<li><code>jekyll new</code> markdown defaults to blog-specific format
<li><code>Gemfile</code> configured for page appearances to match GitHub Pages theme<br>
 &nbsp &nbsp &nbsp causes GitHub Pages deployment action to timeout:<pre>
	$ diff Gemfile ../site
	5c5
	< gem 'github-pages'                            # Windows Jekyll: no theme
	---
	> gem 'github-pages', group: :jekyll_plugins    # GitHub Pages Action times out
</pre>
<li>ignores markdown files lacking front matter starting on the first line
<br><br>

This last issue differs between Jekyll on Windows and GitHub's Jekyll docker.<br>
Fortunately, empty front matter suffices to enable markdown processing,<br>
and default title can be overridden by a markdown <b>### heading</b> immediately below front matter.
<pre>		---
		---
		### Custom Title</pre>

<p>My GitHub Pages include over 60 markdown files needing editting for these issues...
<li>starting over, I would completely avoid markdown for GitHub Pages;
<li>trivial changes typically require over 5 minutes for GitHub to process.
<li>Folders with only static content (HTML, PDF, images) were <a href="https://blekenbleu.github.io/static/">moved to a separate project</a>
</p>

<details>
<summary><b>Installation</b> - click for details</summary>
<details>
<summary><b>Ruby</b></summary>
<embed width=800 src=RubyInstall.txt>
</details>
<details>
<summary><b>Bundler</b></summary>
<embed width=600 src=BundlerInstall.txt>
</details>
<details>
<summary><b>Jekyll</b></summary>
<embed width=600 src=Jekyllinstall.txt>
</details>
<details>
<summary><b>bundle install</b></summary>
<embed width=800 src=bundle_install.txt>
</details>
<details>
<summary><b>webrick</b></summary>
<embed width=800 src=webrick.txt>
</details>
</details>

<h3>Ruby updates</h3>
While Ruby gems can be updated, Ruby itself as installed by <a href="https://rubyinstaller.org/downloads/">RubyInstaller</a> cannot.<br>
Ruby is used here <i>only</i> for Jekyll, but its bundled <a href="https://www.msys2.org/">MSYS2</a> gets used extensively,<br>
with several packages added.&nbsp Before replacing Ruby,<br>
 run MSYS2 package manager to document its current package list:<br>
<li><code>pacman -Q > /d/oldMSYS2.txt</code><br>
.. then compare with new MSYS2 for determining packages to add.<br>
Of course, any MSYS2 <code>home/user</code> folder customizations should also be ported.<br>
</section>

<h3>github-pages issues</h3>
As noted, Windows Jekyl requires <code>gem 'github-pages', group: :jekyll_plugins</code> in <code>Gemfile</code> to apply themes.<br>
Beyond that, with <code>JEKYLL_GITHUB_TOKEN</code> set, <code>bundle exec jekyll serve</code> fails with:<br>
<code>Liquid Exception: The GitHub API credentials you provided aren't valid. in /_layouts/default.html</code><pre>
$ bundle exec github-pages health-check
 (LoadError)4/lib/ruby/gems/3.2.0/gems/ffi-1.15.5/lib/ffi/library.rb:145:in `block in ffi_lib': Could not open library 'libcurl': The specified module could not be found.
.
Could not open library 'libcurl.dll': The specified module could not be found.
.
Could not open library 'libcurl.so.4': The specified module could not be found.
.
Could not open library 'libcurl.so.4.dll': The specified module could not be found.
</pre>
<h4>Installed, but did not help:</h4>
<pre>$ pacman -Sy mingw-w64-x86_64-curl
$ find /f -name curl.h -print
/f/Ruby32-x64/msys64/mingw64/include/curl/curl.h
$ gem install curb --platform=ruby -- --with-curl-lib="F:/Ruby32-x64/msys64/mingw64/lib" --with-curl-include="F:/Ruby32-x64/msys64/mingw64/include"
Temporarily enhancing PATH for MSYS/MINGW...
Building native extensions with: '--with-curl-lib=F:/Ruby32-x64/msys64/mingw64/lib --with-curl-include=F:/Ruby32-x64/msys64/mingw64/include'
This could take a while...
Successfully installed curb-1.0.5
Parsing documentation for curb-1.0.5
Installing ri documentation for curb-1.0.5
Done installing documentation for curb after 0 seconds
1 gem installed
</pre>
... but <code>bundle exec github-pages health-check</code> still fails the same way.
</div>
</div> 
</body></html>
